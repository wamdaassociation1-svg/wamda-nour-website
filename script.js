const translations = {
    ar: {
        "nav-login": "Ø§Ù„Ø¯Ø®ÙˆÙ„",
        "nav-donate": "ØªØ¨Ø±Ø¹ Ø§Ù„Ø¢Ù†",
        "nav-contact": "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        "hero-title": "Ù†Ø¶ÙŠØ¡ Ø¯Ø±ÙˆØ¨ <span class='text-brandCyan'>Ø§Ù„Ø®ÙŠØ±</span> ÙˆÙ†ØµÙ†Ø¹ Ø£Ø«Ø± Ù…Ø³ØªØ¯Ø§Ù…",
        "hero-btn": "Ù…Ø¨Ø§Ø¯Ø±Ø§ØªÙ†Ø§ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©",
        "about-title": "Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠØ©",
        "about-desc": "ØªØ£Ø³Ø³Øª Ø¬Ù…Ø¹ÙŠØ© ÙˆÙ…Ø¶Ø© Ù†ÙˆØ± ÙƒÙƒÙŠØ§Ù† Ø¥Ù†Ø³Ø§Ù†ÙŠ ÙŠØ³Ø¹Ù‰ Ù„Ø¥Ø­Ø¯Ø§Ø« ØªØºÙŠÙŠØ± Ø¬Ø°Ø±ÙŠ ÙˆÙ…Ø³ØªØ¯Ø§Ù… ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ø£ÙØ±Ø§Ø¯.",
        "reg-title": "Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©",
        "partner-title": "Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠÙˆÙ†",
        "footer-about-title": "Ø¬Ù…Ø¹ÙŠØ© ÙˆÙ…Ø¶Ø© Ù†ÙˆØ±",
        "footer-about-desc": "Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹Ø§Øª Ù…Ù† Ø®Ù„Ø§Ù„ Ø­Ù„ÙˆÙ„ ØªÙ†Ù…ÙˆÙŠØ© ÙˆØ¥Ù†Ø³Ø§Ù†ÙŠØ© Ù…Ø³ØªØ¯Ø§Ù…Ø©.",
        "footer-community-title": "Ø§Ù„Ù…Ø¬ØªÙ…Ø¹",
        "footer-privacy-title": "Ø§Ù„Ø³ÙŠØ§Ø³Ø© ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©",
        "ai-greet": "Ù…Ø±Ø­Ø¨Ø§! Ø£Ù†Ø§ Ù†ÙˆØ±ÙŠØŒ Ù…Ø³Ø§Ø¹Ø¯ ÙˆÙ…Ø¶Ø© Ù†ÙˆØ± ğŸŒŸ Ù‚ÙˆÙ„ÙŠ... Ø¥Ø²Ø§ÙŠ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ø©ØŸ ğŸ˜Š"
    },
    en: {
        "nav-login": "Login",
        "nav-donate": "Donate Now",
        "nav-contact": "Contact Us",
        "hero-title": "Lighting paths of <span class='text-brandCyan'>Goodness</span>",
        "hero-btn": "Our Initiatives",
        "about-title": "About Us",
        "about-desc": "Wamda Noor was established as a humanitarian entity seeking radical change.",
        "reg-title": "International Registrations",
        "partner-title": "Strategic Partners",
        "footer-about-title": "Wamda Noor Association",
        "footer-about-desc": "Empowering people and building communities through sustainable solutions.",
        "footer-community-title": "Community",
        "footer-privacy-title": "Policy & Privacy",
        "ai-greet": "Hi! I'm Noor ğŸŒŸ How can I help you today? ğŸ˜Š"
    },
    fr: {
        "nav-login": "Connexion",
        "nav-donate": "Faire un don",
        "nav-contact": "Contactez-nous",
        "hero-title": "Ã‰clairer les chemins du <span class='text-brandCyan'>Bien</span>",
        "hero-btn": "Nos Initiatives",
        "about-title": "Ã€ Propos",
        "about-desc": "Wamda Noor est une entitÃ© humanitaire pour un changement durable.",
        "reg-title": "Enregistrements Internationaux",
        "partner-title": "Partenaires StratÃ©giques",
        "footer-about-title": "Association Wamda Noor",
        "footer-about-desc": "Autonomiser les personnes et bÃ¢tir des communautÃ©s.",
        "footer-community-title": "CommunautÃ©",
        "footer-privacy-title": "ConfidentialitÃ©",
        "ai-greet": "Salut! Je suis Noor ğŸŒŸ Comment puis-je vous aider ? ğŸ˜Š"
    },
    es: {
        "nav-login": "Acceso",
        "nav-donate": "Donar Ahora",
        "nav-contact": "ContÃ¡ctenos",
        "hero-title": "Iluminando caminos de <span class='text-brandCyan'>Bien</span>",
        "hero-btn": "Iniciativas",
        "about-title": "Sobre Nosotros",
        "about-desc": "Wamda Noor se estableciÃ³ como una entidad humanitaria lÃ­der.",
        "reg-title": "Registros Internacionales",
        "partner-title": "Socios EstratÃ©gicos",
        "footer-about-title": "AsociaciÃ³n Wamda Noor",
        "footer-about-desc": "Empoderando a las personas y construyendo comunidades.",
        "footer-community-title": "Comunidad",
        "footer-privacy-title": "Privacidad",
        "ai-greet": "Â¡Hola! Soy Noor ğŸŒŸ Â¿CÃ³mo puedo ayudarte hoy? ğŸ˜Š"
    }
};

function changeLanguage(lang) {
    document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;

    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    const langSpan = document.querySelector('.group span.uppercase');
    if (langSpan) { langSpan.textContent = lang; }

    localStorage.setItem('preferredLang', lang);
}

window.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('preferredLang') || 'ar';
    changeLanguage(savedLang);
});
